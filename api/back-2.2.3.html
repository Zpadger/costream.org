

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>Parition graph — COStream</title>
    <meta charset="utf-8">
    <meta name="description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://costream.site/api/back-2.2.3.html">
    <link rel="alternate" hreflang="zh" href="https://cn.costream.site/api/back-2.2.3.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Parition graph — COStream">
    <meta property="og:description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta property="og:image" content="https://cn.costream.site/images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Parition graph — COStream">
    <meta name="twitter:description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta name="twitter:image" content="https://cn.costream.site/images/logo.png">

<!--
    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
-->
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
<!--
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
-->
    <meta name="msapplication-TileImage" content="/images/icons/favicon.png">
    <link rel="icon" href="/images/icons/favicon.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <!-- <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'> -->
    <!-- <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'> -->

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "api"</script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-3', 'cn.costream.site');
      ga('send', 'pageview');
    </script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/CO.svg">
    <span>COStream</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li>
    <a href="/guide/installation.html" class="nav-link team">Install</a>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
        <li><a href="/guide/" class="nav-link">Guide</a></li>
        <li><a href="/guide/grammar-book/grammar.html" class="nav-link">Grammar</a></li>
        <li><a href="/api/" class="nav-link current">Source</a></li>
      <li><a href="/examples/" class="nav-link">Examples</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecosystem</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Help</h4></li>
    <li><ul>
        <li><a href="https://github.com/DML308/COStream/issues" class="nav-link" target="_blank">Forum</a></li>
    </ul></li>
    <li><h4>Tool</h4></li>
    <li>
      <ul>
        <li><a href="https://try.costream.site" class="nav-link" target="_blank"> Dev Online</a></li>
        <li><a href="https://costream.site" class="nav-link" target="_blank">Highlight Plugin</a></li>
      </ul>
    </li>
    <li><h4>Core Libraries</h4></li>
    <li><ul>
<!--    via 陈铭涛-->
      <li><a href="#" class="nav-link" target="_blank">GPU Computing</a></li>
<!--    via 李平然-->
      <li><a href="#" class="nav-link" target="_blank">Dynamic Scheduling</a></li>
<!--    via null-->
      <li><a href="#" class="nav-link" target="_blank">Gragh Partition</a></li>
    </ul></li>
    
    <li><h4>Resource Lists</h4></li>
    <li><ul>
      <li><a href="https://github.com/DML308/COStream" class="nav-link" target="_blank">Official Repos</a></li>
    <li><h4>Associated Links</h4></li>
    <li><ul>
        <li><a href="http://www.hust.edu.cn" class="nav-link" target="_blank">HUST</a></li>
        <li><a href="http://media.hust.edu.cn" class="nav-link" target="_blank">DML</a></li>
        <li><a href="http://faculty.hust.edu.cn/yujunqing/zh_CN/index.htm" class="nav-link" target="_blank">Mater Enrollment</a></li>
        </ul></li> 
    </ul></li>
  </ul>
</li>

<li>
  <a href="/guide/team.html" class="nav-link team">Team</a>
</li>
<!--
<li>
    <a href="#" class="nav-link team">团队</a>
</li>
-->
<li class="nav-dropdown-container language">
  <a class="nav-link">Language</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://costream.site/api/back-2.2.3.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.costream.site/api/back-2.2.3.html" class="nav-link" target="_blank">简体中文</a></li>
  </ul>
</li>

<!--<li><a href="https://github.com/vuejs/cn.vuejs.org/" target="_blank" class="nav-link contribute">参与翻译</a></li>-->

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li>
    <a href="/guide/installation.html" class="nav-link team">Install</a>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
        <li><a href="/guide/" class="nav-link">Guide</a></li>
        <li><a href="/guide/grammar-book/grammar.html" class="nav-link">Grammar</a></li>
        <li><a href="/api/" class="nav-link current">Source</a></li>
      <li><a href="/examples/" class="nav-link">Examples</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecosystem</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Help</h4></li>
    <li><ul>
        <li><a href="https://github.com/DML308/COStream/issues" class="nav-link" target="_blank">Forum</a></li>
    </ul></li>
    <li><h4>Tool</h4></li>
    <li>
      <ul>
        <li><a href="https://try.costream.site" class="nav-link" target="_blank"> Dev Online</a></li>
        <li><a href="https://costream.site" class="nav-link" target="_blank">Highlight Plugin</a></li>
      </ul>
    </li>
    <li><h4>Core Libraries</h4></li>
    <li><ul>
<!--    via 陈铭涛-->
      <li><a href="#" class="nav-link" target="_blank">GPU Computing</a></li>
<!--    via 李平然-->
      <li><a href="#" class="nav-link" target="_blank">Dynamic Scheduling</a></li>
<!--    via null-->
      <li><a href="#" class="nav-link" target="_blank">Gragh Partition</a></li>
    </ul></li>
    
    <li><h4>Resource Lists</h4></li>
    <li><ul>
      <li><a href="https://github.com/DML308/COStream" class="nav-link" target="_blank">Official Repos</a></li>
    <li><h4>Associated Links</h4></li>
    <li><ul>
        <li><a href="http://www.hust.edu.cn" class="nav-link" target="_blank">HUST</a></li>
        <li><a href="http://media.hust.edu.cn" class="nav-link" target="_blank">DML</a></li>
        <li><a href="http://faculty.hust.edu.cn/yujunqing/zh_CN/index.htm" class="nav-link" target="_blank">Mater Enrollment</a></li>
        </ul></li> 
    </ul></li>
  </ul>
</li>

<li>
  <a href="/guide/team.html" class="nav-link team">Team</a>
</li>
<!--
<li>
    <a href="#" class="nav-link team">团队</a>
</li>
-->
<li class="nav-dropdown-container language">
  <a class="nav-link">Language</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://costream.site/api/back-2.2.3.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.costream.site/api/back-2.2.3.html" class="nav-link" target="_blank">简体中文</a></li>
  </ul>
</li>

<!--<li><a href="https://github.com/vuejs/cn.vuejs.org/" target="_blank" class="nav-link contribute">参与翻译</a></li>-->

    </ul>
    <div class="list">
      
      
        <h2>
          
          Source Explain
<!--
          
            <select class="version-select">
              <option value="SELF" selected>2.x</option>
              <option value="v1">1.0</option>
              <option value="012">0.12</option>
              <option value="011">0.11</option>
            </select>
          
-->
        </h2>
        <ul class="menu-root">
  
    
    
    
	
	
    
    <li>
      <a href="/api/index.html" class="sidebar-link">Overview</a>
    </li>
  
    
    
    
	
      <li><h3>Front end - Parser </h3></li>
      
	
    
    <li>
      <a href="/api/front-2.1.0.html" class="sidebar-link">Get & preprocess Input file</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.1.html" class="sidebar-link">Preprocessing & Environment initialization</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.2.html" class="sidebar-link">Grammar creation and grammar tree generation</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.3.html" class="sidebar-link">Print symbol table</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.4.html" class="sidebar-link">Delete file & verifies the Lexical and grammatical analysis results</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.5.html" class="sidebar-link">Semantic check</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.7.html" class="sidebar-link">Variable rename</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.8.html" class="sidebar-link">Constant propagation</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.9.html" class="sidebar-link">Print AST</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.10.html" class="sidebar-link">AST to Flatgraph</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/front-2.1.11.html" class="sidebar-link">Estimate workload of  nodes in flatgraph</a>
    </li>
  
    
    
    
	
	
      <li><h3>Back end - CodeGenerator</h3></li>
      
    
    <li>
      <a href="/api/back-2.2.1.html" class="sidebar-link">Initial scheduling and steady-state scheduling</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/back-2.2.2.html" class="sidebar-link">Describe the SDF diagram in the form of XML</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/back-2.2.3.html" class="sidebar-link current">Parition graph</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/back-2.2.4.html" class="sidebar-link">Print theoretical speedup ratio</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/back-2.2.5.html" class="sidebar-link">Stage Assignment</a>
    </li>
  
    
    
    
	
	
    
    <li>
      <a href="/api/back-2.2.6.html" class="sidebar-link">Code Generation</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>


<div class="content api with-sidebar ">
  
    
  
  
    <h1>Parition graph</h1>
  
  
    <p>When you read the doucuments of  the COStream compiler project from the front-end to this part, you may have the basic understanding the mechanism of the compiler, the conversion of the syntax tree to flatgraph, and the storage and access of the data when the dateflow program runs.<br>But, in order to better understand the idea and implementation of the compiler backend for the scheduling and partitioning of nodes in the data flow graph SDF, there must be a certain understanding of C++ programming foundation for the structure, pointers, and basic containers in the C++ standard (such as list, vector, map , multimap) and iterator.<br>We know that COStream is a data streaming language, a high-level language that runs in parallel on a multi-core platform. It is designed for multiple platform backends such as X10Backend, X86Backend, and GPUBackend, and there are differences in how to scheduling and partition in different backend. Therefore, the scheduling, partition and the subsequent split fusion until the final code generation step module are implemented separately by the platform.</p>
<h2 id="Program-Entrance"><a href="#Program-Entrance" class="headerlink" title="Program Entrance"></a>Program Entrance</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// （3）Parition graph</span></span><br><span class="line">PhaseName = <span class="string">"Partition"</span>;</span><br><span class="line"><span class="keyword">if</span> (Errors == <span class="number">0</span> &amp;&amp; PPartition &amp;&amp; (X86Backend || X10Backend || GPUBackend) )</span><br><span class="line">&#123;</span><br><span class="line">    ……</span><br><span class="line">    <span class="keyword">if</span> (X10ParallelBackEnd == TRUE)</span><br><span class="line">    ……</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X10DistributedBackEnd == TRUE)</span><br><span class="line">    ……</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (X10Backend || X86Backend)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//According to the number of nodes in SSSG, and CPU cores </span></span><br><span class="line">        <span class="comment">//set the partition number</span></span><br><span class="line">        mp-&gt;setCpuCoreNum(CpuCoreNum, SSSG);</span><br><span class="line">        mp-&gt;SssgPartition(SSSG,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (GPUBackend &amp;&amp; MAFLPFlag)</span><br><span class="line">    ……</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PhaseName = <span class="string">"SetMultiNum"</span>;</span><br><span class="line"><span class="keyword">if</span> (Errors == <span class="number">0</span> &amp;&amp; GPUBackend)</span><br><span class="line">    ……</span><br><span class="line">    PhaseName = <span class="string">"PartitionGraph"</span>;</span><br><span class="line">    <span class="keyword">if</span> (Errors == <span class="number">0</span> &amp;&amp; PPartition &amp;&amp; PartitionGraph &amp;&amp; (X86Backend||X10Backend ||</span><br><span class="line">                                                        GPUBackend) )</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">if</span>(GPUBackend)</span><br><span class="line">        DumpStreamGraph(SSSG,maflp,<span class="string">"GPUPartitionGraph.dot"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        DumpStreamGraph(SSSG, mp, <span class="string">"PartitionGraph.dot"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>For example: if we use a serve with a 8 core cpu of Inter X86, according to the condition judgment, it will enter the X86Backend branch.</li>
<li>Variable <code>mp</code> is <code>MetisPartiton *mp = NULL</code>, it is defined in mainfunction. It is a object of MetisPartition.</li>
<li>First，according to the number of SDF graph nodes converted from the syntax tree and the physical core number of the current CPU，the program decide the partition number of SDF graph. It is implemented by <code>setCpuCoreNum(CpuCoreNum , SSSG)</code>. Variable CpuCoreNum=8 is defined in main function , SSSG is the output of the initial stage and steady state scheduling of the previous stage.</li>
<li>After the number of divisions is determined, the partition function <code>mp-&gt;SssgPartition(SSSG,1)</code> will be called, This function is implemented in MetisPartition.cpp, which is an associated file of this partitioning scheduling module.</li>
<li>After complete the partition scheduling, print out the divided SDF map and output with function <code>DumpStreamGraph (SSSG, mp, &quot;PartitionGraph.dot&quot;, NULL)</code>.</li>
</ul>
<h2 id="Associated-file"><a href="#Associated-file" class="headerlink" title="Associated file"></a>Associated file</h2><p>(1)     partition.h &amp; partition.cpp<br>partition.h is the base class of all kinds of parition<br><img src="/img/partitionclass.jpg" alt="partitionclass"></p>
<p><em>Base class Partition menber variables</em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>FlatNode2PartitionNum</code><br> type：<code>map&lt;FlatNode*,int&gt;</code></td>
<td style="text-align:left">Store partition results. The map of node to the partition number.</td>
</tr>
<tr>
<td style="text-align:left"><code>FlatNode2PartitionNum</code><br> type：<code>multimap&lt;int，FlatNode*&gt;</code></td>
<td style="text-align:left">Store partition results. The multimap of the patition number to it’s node.</td>
</tr>
<tr>
<td style="text-align:left"><code>PartitionNumSet</code> <br> type：<code>vector&lt;FlatNode *&gt;</code></td>
<td style="text-align:left">Return the set of specific partition.</td>
</tr>
<tr>
<td style="text-align:left"><code>mnparts</code> <br> type：<code>int</code></td>
<td style="text-align:left">The number of partition, depending on the number of places .</td>
</tr>
</tbody>
</table>
<p><em>Base class Partition menber function</em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Function</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>setCpuCoreNum(int,SchedulerSSG*)</code>    return：<code>void</code></td>
<td style="text-align:left">According to the number of nodes in SSSG, and CPU cores set the partition number.</td>
</tr>
</tbody>
</table>
<p><em>Base class Partition Non-menber function</em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>DumpStreamGraph(SchedulerSSG*ssg,Partition *,</code><br> <code>const char *fileName, ClusterPartition *)</code><br> return：<code>void</code></td>
<td style="text-align:left">print the .dot file of the SDF graph.It is implemented in dumpGraph.cpp.</td>
</tr>
<tr>
<td style="text-align:left"><code>ComputeSpeedup(SchedulerSSG*sssg,Partition *mp ,</code><br> <code>std::string , const char *fileName,std::string)</code>    <br> return：<code>void</code></td>
<td style="text-align:left">compute the theoretical acceleration ratio in X86 platform.It is implemented in speedup.cpp.</td>
</tr>
</tbody>
</table>
<h2 id="Flow-chat-of-partition-function"><a href="#Flow-chat-of-partition-function" class="headerlink" title="Flow chat of partition function"></a>Flow chat of partition function</h2><p>1)    Set partition numbers<br>This function is used to set partition numbers.<br>The number of physical cores of the server determines the number of shares.<br><img src="/img/partitionflowchat.png" alt="partitionflowchat"></p>
<p>2)    SDFPartion—SSSGPartition<br>Use Metis toolkit to divided the graph,which combined communication and load balancing.</p>
<p><em>When use one core ,do no partition</em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>map&lt;FlatNode*,int&gt; FlatNode2PartitionNum</code></td>
<td style="text-align:left">Insert(make_pair(sssg-&gt;GetFlatNodes()[i],0)) <br>Map the partition number of all nodes in the SDF graph to 0.</td>
</tr>
<tr>
<td style="text-align:left"><code>multimap&lt;int，FlatNode*&gt; FlatNode2PartitionNum</code></td>
<td style="text-align:left">Insert(make_pair(0,sssg-&gt;GetFlatNodes()[i]))<br>Store all node to the partition number 0.</td>
</tr>
</tbody>
</table>
<p><em>When use multi cores, use Metis API</em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Name</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>vector&lt;int&gt; part(nvtxs)</code></td>
<td style="text-align:left">nvtxs：number of nodes; <br>part：Store the partition number after each node is divided</td>
</tr>
<tr>
<td style="text-align:left"><code>vector&lt;int&gt; vsize(nvtxs,0)</code></td>
<td style="text-align:left">vsize：store the weight of nodes，initialize to 0</td>
</tr>
<tr>
<td style="text-align:left"><code>vector&lt;int&gt; adjncy(edgenum*2)</code></td>
<td style="text-align:left">adjncy：store the edge information</td>
</tr>
<tr>
<td style="text-align:left"><code>vector&lt;int&gt; adjwgt(edgenum*2)</code></td>
<td style="text-align:left">adjwgt：store the weight of edge</td>
</tr>
<tr>
<td style="text-align:left"><code>METIS_PartGraphKway(&amp;nvtxs,&amp;mncon,mxadj,</code><br><code>madjncy,mvwgt,mvsize,</code><br><code>madjwgt,&amp;mnparts,tpwgts,</code><br><code>ubvec,options,&amp;objval,mpart)</code></td>
<td style="text-align:left">Call the K-road map partitioning algorithm under the metis interface, and divide the current SDF graph according to the actor workload and communication.</td>
</tr>
<tr>
<td style="text-align:left"><code>FlatNode2PartitionNum.insert</code><br><code>(make_pair(sssg-&gt;GetFlatNodes()[i],part[i]))</code></td>
<td style="text-align:left">Store the partition result</td>
</tr>
<tr>
<td style="text-align:left"><code>PartitonNum2FlatNode.insert</code><br><code>(make_pair(part[i],sssg-&gt;GetFlatNodes()[i]))</code></td>
<td style="text-align:left">Store the partition result</td>
</tr>
</tbody>
</table>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="How-the-program-color-the-different-part-of-the-graph？"><a href="#How-the-program-color-the-different-part-of-the-graph？" class="headerlink" title="How the program color the different part of the graph？"></a>How the program color the different part of the graph？</h3><p>The .dot file of Partitioned SDF graph is generated by function <code>DumpStreamGraph(SchedulerSSG*ssg,Partition *, const char *fileName, ClusterPartition *)</code> in dumpGraph.cpp，this function color the Each SDF graph node according to the result of dividing.</p>
<h3 id="What-does-MKP—Multi-layer-K-way-partition-do？"><a href="#What-does-MKP—Multi-layer-K-way-partition-do？" class="headerlink" title="What does MKP—Multi-layer K way partition do？"></a>What does MKP—Multi-layer K way partition do？</h3><p>It did not change the structural characteristics of the SDF graph (the amount of nodes is unchanged),Dividing the graph into multiple subgraphs with similar weights, and ensuring minimum communication between subgraphs.</p>

  
  
  <div class="footer">
	Caught a mistake or want to contribute to the documentation? 
    	
	  <a href="https://github.com/DML308/costream.org/tree/master/src/api/back-2.2.3.md" target="_blank">
		  Edit this page on GitHub!
	  </a>
  	
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      //appId: 'KZDIIW94S9',
      apiKey: '996d0e9a1b8f19e5e45dcacee85c4bf7',
      indexName: 'costream',
      inputSelector: selector,
      //algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
