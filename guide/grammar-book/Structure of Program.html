

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>Structure of Program — COStream</title>
    <meta charset="utf-8">
    <meta name="description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://costream.site/guide/grammar-book/Structure of Program.html">
    <link rel="alternate" hreflang="zh" href="https://cn.costream.site/guide/grammar-book/Structure of Program.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Structure of Program — COStream">
    <meta property="og:description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta property="og:image" content="https://cn.costream.site/images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Structure of Program — COStream">
    <meta name="twitter:description" content="COStream - The High Performance Dataflow Language and Compiler">
    <meta name="twitter:image" content="https://cn.costream.site/images/logo.png">

<!--
    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
-->
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
<!--
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
-->
    <meta name="msapplication-TileImage" content="/images/icons/favicon.png">
    <link rel="icon" href="/images/icons/favicon.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <!-- <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'> -->
    <!-- <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'> -->

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "guide"</script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-3', 'cn.costream.site');
      ga('send', 'pageview');
    </script>
  </head>
  <body class="docs">
    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/CO.svg">
    <span>COStream</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li>
    <a href="/guide/installation.html" class="nav-link team">Install</a>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
        <li><a href="/guide/" class="nav-link">Guide</a></li>
        <li><a href="/guide/grammar-book/grammar.html" class="nav-link current">Grammar</a></li>
        <li><a href="/api/" class="nav-link">Source</a></li>
      <li><a href="/examples/" class="nav-link">Examples</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecosystem</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Help</h4></li>
    <li><ul>
        <li><a href="https://github.com/DML308/COStream/issues" class="nav-link" target="_blank">Forum</a></li>
    </ul></li>
    <li><h4>Tool</h4></li>
    <li>
      <ul>
        <li><a href="https://try.costream.site" class="nav-link" target="_blank"> Dev Online</a></li>
        <li><a href="https://costream.site" class="nav-link" target="_blank">Highlight Plugin</a></li>
      </ul>
    </li>
    <li><h4>Core Libraries</h4></li>
    <li><ul>
<!--    via 陈铭涛-->
      <li><a href="#" class="nav-link" target="_blank">GPU Computing</a></li>
<!--    via 李平然-->
      <li><a href="#" class="nav-link" target="_blank">Dynamic Scheduling</a></li>
<!--    via null-->
      <li><a href="#" class="nav-link" target="_blank">Gragh Partition</a></li>
    </ul></li>
    
    <li><h4>Resource Lists</h4></li>
    <li><ul>
      <li><a href="https://github.com/DML308/COStream" class="nav-link" target="_blank">Official Repos</a></li>
    <li><h4>Associated Links</h4></li>
    <li><ul>
        <li><a href="http://www.hust.edu.cn" class="nav-link" target="_blank">HUST</a></li>
        <li><a href="http://media.hust.edu.cn" class="nav-link" target="_blank">DML</a></li>
        <li><a href="http://faculty.hust.edu.cn/yujunqing/zh_CN/index.htm" class="nav-link" target="_blank">Mater Enrollment</a></li>
        </ul></li> 
    </ul></li>
  </ul>
</li>

<li>
  <a href="/guide/team.html" class="nav-link team">Team</a>
</li>
<!--
<li>
    <a href="#" class="nav-link team">团队</a>
</li>
-->
<li class="nav-dropdown-container language">
  <a class="nav-link">Language</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://costream.site/guide/grammar-book/Structure of Program.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.costream.site/guide/grammar-book/Structure of Program.html" class="nav-link" target="_blank">简体中文</a></li>
  </ul>
</li>

<!--<li><a href="https://github.com/vuejs/cn.vuejs.org/" target="_blank" class="nav-link contribute">参与翻译</a></li>-->

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li>
    <a href="/guide/installation.html" class="nav-link team">Install</a>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
        <li><a href="/guide/" class="nav-link">Guide</a></li>
        <li><a href="/guide/grammar-book/grammar.html" class="nav-link current">Grammar</a></li>
        <li><a href="/api/" class="nav-link">Source</a></li>
      <li><a href="/examples/" class="nav-link">Examples</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Ecosystem</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Help</h4></li>
    <li><ul>
        <li><a href="https://github.com/DML308/COStream/issues" class="nav-link" target="_blank">Forum</a></li>
    </ul></li>
    <li><h4>Tool</h4></li>
    <li>
      <ul>
        <li><a href="https://try.costream.site" class="nav-link" target="_blank"> Dev Online</a></li>
        <li><a href="https://costream.site" class="nav-link" target="_blank">Highlight Plugin</a></li>
      </ul>
    </li>
    <li><h4>Core Libraries</h4></li>
    <li><ul>
<!--    via 陈铭涛-->
      <li><a href="#" class="nav-link" target="_blank">GPU Computing</a></li>
<!--    via 李平然-->
      <li><a href="#" class="nav-link" target="_blank">Dynamic Scheduling</a></li>
<!--    via null-->
      <li><a href="#" class="nav-link" target="_blank">Gragh Partition</a></li>
    </ul></li>
    
    <li><h4>Resource Lists</h4></li>
    <li><ul>
      <li><a href="https://github.com/DML308/COStream" class="nav-link" target="_blank">Official Repos</a></li>
    <li><h4>Associated Links</h4></li>
    <li><ul>
        <li><a href="http://www.hust.edu.cn" class="nav-link" target="_blank">HUST</a></li>
        <li><a href="http://media.hust.edu.cn" class="nav-link" target="_blank">DML</a></li>
        <li><a href="http://faculty.hust.edu.cn/yujunqing/zh_CN/index.htm" class="nav-link" target="_blank">Mater Enrollment</a></li>
        </ul></li> 
    </ul></li>
  </ul>
</li>

<li>
  <a href="/guide/team.html" class="nav-link team">Team</a>
</li>
<!--
<li>
    <a href="#" class="nav-link team">团队</a>
</li>
-->
<li class="nav-dropdown-container language">
  <a class="nav-link">Language</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://costream.site/guide/grammar-book/Structure of Program.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.costream.site/guide/grammar-book/Structure of Program.html" class="nav-link" target="_blank">简体中文</a></li>
  </ul>
</li>

<!--<li><a href="https://github.com/vuejs/cn.vuejs.org/" target="_blank" class="nav-link contribute">参与翻译</a></li>-->

    </ul>
    <div class="list">
      
      
        <h2>
          
          Guide
<!--
          
            <select class="version-select">
              <option value="SELF" selected>2.x</option>
              <option value="v1">1.0</option>
              <option value="012">0.12</option>
              <option value="011">0.11</option>
            </select>
          
-->
        </h2>
        <ul class="menu-root">
  
    
    
      
        <li><h3>Essentials</h3></li>
      
      
			
    
    
    <li>
      <a href="/guide/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/installation.html" class="sidebar-link">Installation</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/helloworld.html" class="sidebar-link">Try to run</a>
    </li>
  
    
    
      
      
      <li><h3>Grammar Book</h3></li>
      
			
    
    
    <li>
      <a href="/guide/grammar-book/grammar.html" class="sidebar-link">Grammer Introduction</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/grammar-book/2.html" class="sidebar-link">Keyword & Type</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/grammar-book/3.html" class="sidebar-link">Streaming Data Process</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/grammar-book/4.html" class="sidebar-link">Make Hierarchical Stream Program</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/grammar-book/5.html" class="sidebar-link">Inside Composite</a>
    </li>
  
    
    
      
      
			
    
    
    <li>
      <a href="/guide/grammar-book/Structure of Program.html" class="sidebar-link current">Structure of Program</a>
    </li>
  
    
    
      
      
			
      <li><h3>Else</h3></li>
      
    
    
    <li>
      <a href="/guide/team.html" class="sidebar-link">Team Members</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>


<div class="content guide with-sidebar Structure of Program-guide">
  
    
  
  
    <h1>Structure of Program</h1>
  
  
    <h2 id="External-C"><a href="#External-C" class="headerlink" title="External C++"></a>External C++</h2><p>The figure below shows the compiled procedure of COStream program. The COStream compiler is a source-to-source compiler, which compiles the COStream program to parallel object code on the target platform(C++ like this) and uses the underlying compiler to generate final object code at last.</p>
<p><img src="https://i.loli.net/2018/07/01/5b38d266f2005.png" alt="6.1"></p>
<p>The COStream compiler has two approachs to finish the program compilation: self-supporting pattern and extern-embed pattern. For example, if we need C++ program as the object code, in self-supportint pattern, the COStream source code will be converted into C++ code first, and be compiled to the independent machine-code next without any intervention else. But in the extern-embed pattern, COStream code will be called by external interface in external C++ program, which likes a normal C++ library compiled and linked with the external C++ code to the machine-code. We just need to choose the compiler option, the compiler will compile source code with different ways: “embed” means extern-embed pattern, and the “normal” means self-supporting pattern. Here we give a brief introdction to the interface in COStream compiler’s extern-embed pattern.</p>
<p>In the extern-embed pattern of COStream compiler, we define the RunCOStream class in “RunCOStream.h” file, which is a head file generated during the compilation. The RunCOStream class is included in “COStream” namespace, and the interfaces in RunCOStream class are as follows:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">RunCOStream(<span class="built_in">stringstream</span>&amp; instream);</span><br><span class="line">RunCOStream(<span class="keyword">void</span>* pSrc,<span class="keyword">int</span> srcDataCount);</span><br><span class="line">RunCOStream(<span class="built_in">string</span> path)；</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Run</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetOutputNum</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">GetOutputArray</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>The user can supply character stream, pointer to array with array’s size and file path to initialize RunCOStream object. Calling the “Run” function in class to execute stream program, fetching the pointer to output data with “GetOutputArray” function, and fetching the numbers of output data with “GetOutputNum” function. The “COStream.h” file has the declaration of this class, users just need to include it in their source code.<br>The usage of RunCOStream class is as follows:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"RunCOStream.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> COStream;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> *p = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">1379</span>];</span><br><span class="line">	RunCOStream costream = <span class="keyword">new</span> RunCOStream(p,<span class="number">1379</span>);</span><br><span class="line">	costream.Run();</span><br><span class="line">	<span class="keyword">int</span> retDataCount = costream.GetOutputNum();</span><br><span class="line">	<span class="keyword">double</span>* retArray = (<span class="keyword">double</span>*)costream. GetOutputArray();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Shared-Variable-Between-C-and-COStream"><a href="#Shared-Variable-Between-C-and-COStream" class="headerlink" title="Shared Variable Between C++ and COStream"></a>Shared Variable Between C++ and COStream</h2><p>For the purpose of modifying the variable conveniently in COStream program, which makes the stream program more flexible used for C++ user. The COStream compiler allow COStream program to access global variable which is defined in external C++ program. The variable that is accessed in COStream program should be appended “extern” identifier and won’t be initialized. And in C++ program, the referred variable will be defined in global namespace, which changed resulting in the same variable changed in COStream program.<br>The usage of global variable is as follows:<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//COStream file：</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> ExternValue;</span><br><span class="line"><span class="function">composite <span class="title">Main</span><span class="params">(output stream&lt;<span class="keyword">double</span> x&gt;Out, input stream&lt;<span class="keyword">double</span> x&gt;In)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	stream&lt;<span class="keyword">double</span> x&gt; Out = FMRadioCore(In)()</span><br><span class="line">	&#123;</span><br><span class="line">		work</span><br><span class="line">		&#123;</span><br><span class="line">			Out[<span class="number">0</span>].x = In[<span class="number">0</span>].x+ExternValue;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//C++ file:</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"RunCOStream.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> COStream;</span><br><span class="line"><span class="keyword">int</span> ExternValue;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> *p = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">1379</span>];</span><br><span class="line">	RunCOStream costream = <span class="keyword">new</span> RunCOStream(p,<span class="number">1379</span>);</span><br><span class="line">	ExternValue = <span class="number">2</span>;</span><br><span class="line">	costream.Run();</span><br><span class="line">	ExternValue = <span class="number">-1</span>;</span><br><span class="line">	costream.Run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As shown in the above code, obviously, it refers the external variable “ExternValue” in COStream file, which is defined in C++ file, and the user can modify “ExternValue” variable in C++ file.</p>
<p>Example：<br><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">composite <span class="title">MyCompositeCall</span><span class="params">(input stream&lt;<span class="keyword">int</span> x&gt; In, output stream&lt;<span class="keyword">int</span> x&gt; Out)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	param</span><br><span class="line">		<span class="keyword">float</span> f;</span><br><span class="line">	<span class="keyword">int</span> x=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		stream&lt;<span class="keyword">int</span> x&gt;G;</span><br><span class="line">		G=MyOperator(In)<span class="comment">//2.internal definition of operator</span></span><br><span class="line">		&#123;</span><br><span class="line">			work</span><br><span class="line">			&#123;</span><br><span class="line">				G[<span class="number">0</span>].x = In[<span class="number">0</span>].x + f;</span><br><span class="line">			&#125;</span><br><span class="line">			window</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="function">In <span class="title">sliding</span><span class="params">(<span class="number">3</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">				<span class="function">Out <span class="title">tumbling</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">composite <span class="title">Main</span><span class="params">(input stream&lt;<span class="keyword">int</span> x&gt; In, stream&lt;<span class="keyword">int</span> x&gt; In1, output stream&lt;<span class="keyword">int</span> x&gt; Out)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	param <span class="keyword">int</span> x, <span class="keyword">int</span> y;</span><br><span class="line">	<span class="keyword">int</span> i,f;</span><br><span class="line">	<span class="keyword">int</span> realparam;</span><br><span class="line">	stream&lt;<span class="keyword">int</span> x&gt; G,G1,G3;<span class="comment">//1.independent declaration of stream</span></span><br><span class="line">	<span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		G= MyCompositeCall(In)(f);<span class="comment">//2.other calling of composite</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		(G,G1)=MyOperatorx(In,In1)<span class="comment">//3.internal definition of operator</span></span><br><span class="line">		&#123;</span><br><span class="line">			work</span><br><span class="line">			&#123;</span><br><span class="line">				G[<span class="number">0</span>].x = x+In[<span class="number">0</span>].x+In1[<span class="number">0</span>];</span><br><span class="line">				x += <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			window</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="function">In <span class="title">sliding</span><span class="params">(<span class="number">3</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">				<span class="function">G <span class="title">tumbling</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.Unless in the "pipeline" structure or "splitjoin" structure, it isn't allowed to occur composite-calling statement in loop statement, which just allow the normal statement occuring.</span></span><br><span class="line"></span><br><span class="line">	f=<span class="number">100000.0</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">		f += <span class="number">3</span>;</span><br><span class="line">		<span class="comment">//5.about pipeline</span></span><br><span class="line">	G1=pipeline(G)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//5.1 normal C statement</span></span><br><span class="line">		<span class="keyword">int</span> a,b;</span><br><span class="line">		x=(<span class="number">4</span>+y)/<span class="number">2</span>;</span><br><span class="line">		a =<span class="number">3</span>;</span><br><span class="line">		b =<span class="number">5</span>;</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)<span class="comment">//5.2 the loop statement can be in the "pipeline" structure</span></span><br><span class="line">			<span class="keyword">if</span>(x&gt;<span class="number">0</span>)<span class="comment">//5.3 conditional statement</span></span><br><span class="line">				<span class="function">add <span class="title">MyCompositeCall</span><span class="params">(realparam[i])</span></span>;<span class="comment">// composite-call must be single-input and single-output</span></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				add MyCompositeCall(realparam[i]);</span><br><span class="line">		<span class="function">add <span class="title">MyCompositeCall</span><span class="params">(realparam)</span></span>;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">//6.splitjion</span></span><br><span class="line">	G3=splitjoin(G)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> t=<span class="number">12315</span>;</span><br><span class="line">		<span class="function">split <span class="title">duplicate</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)<span class="comment">//6.1 the loop statement can be in the "pipeline" structure</span></span><br><span class="line">			<span class="keyword">if</span>(t&gt;<span class="number">0</span>)<span class="comment">//6.2 conditional statement</span></span><br><span class="line">				<span class="function">add <span class="title">MyCompositeCall</span><span class="params">(realparam[i])</span></span>;<span class="comment">// 6.3 composite-call must be single-input and single-output</span></span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				add MyCompositeCall(realparam[i]);</span><br><span class="line">		<span class="function">add <span class="title">MyCompositeCall</span><span class="params">(realparam)</span></span>;</span><br><span class="line">		<span class="function">join <span class="title">roundrobin</span><span class="params">()</span></span>;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

  
  
    <div class="guide-links">
      
      
        <span>← <a href="/guide/grammar-book/5.html">Inside Composite</a></span>
      
      
      
        <span style="float: right;"><a href="/guide/team.html">Team Members</a> →</span>
      
    </div>
  
  <div class="footer">
	Caught a mistake or want to contribute to the documentation? 
    	
	  <a href="https://github.com/DML308/costream.org/tree/master/src/guide/grammar-book/Structure of Program.md" target="_blank">
		  Edit this page on GitHub!
	  </a>
  	
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '5638280abff9d207417bb03be05f0b25',
      indexName: 'vuejs_cn2',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
